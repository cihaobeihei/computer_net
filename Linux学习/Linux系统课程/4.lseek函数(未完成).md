# Lseek函数
## 1.文件偏移
Linux中可使用系统函数lseek来修改文件偏移量(读写位置)<br>

每个打开的文件都记录着当前读写位置，打开文件时读写位置是0，表示文件开头，通常读写多少个字节就会将读写位置往后移多少个字节。但是有一个例外，如果以O_APPEND方式打开，每次写操作都会在文件末尾追加数据，然后将读写位置移到新的文件末尾。lseek和标准I/O库的fseek函数类似，可以移动当前读写位置（或者叫偏移量）。<br>

回忆fseek的作用及常用参数。 ``SEEK_SET``、``SEEK_CUR``、``SEEK_END``<br>

``int fseek(FILE *stream, long offset, int whence);``成功返回0；失败返回-1<br>
特别的：超出文件末尾位置返回0；往回超出文件头位置，返回-1<br>

``off_t lseek(int fd, off_t offset, int whence);``失败返回-1；成功：返回的值是较文件起始位置向后的偏移量。<br>

特别的：lseek允许超过文件结尾设置偏移量，文件会因此被拓展。<br>
__注意:__ 文件“读”和“写”使用同一偏移位置。<br>

## 2.lseek常用应用

### 1.lseek拓展文件
IO_write操作才能实质性的拓展文件。单lseek是不能进行拓展的。<br>
一般：``write(fd, "a", 1);	``<br>


### 2.获取文件大小
通过lseek获取文件的大小：``lseek(fd, 0, SEEK_END);``<br>


# 注意
lseek函数返回的偏移量总是相对于文件头而言。<br>
