# 正则表达式
## 1.php相关函数
- preg_filter ( mixed $pattern , mixed $replacement , mixed $subject [, int $limit = -1 [, int &$count ]] )

- preg_match ( string $pattern , string $subject [, array &$matches [, int $flags = 0 [, int $offset = 0 ]]] ) //正则表达式一个匹配,返回匹配结果的次数

- preg_match_all ( string $pattern , string $subject [, array &$matches [, int $flags = PREG_PATTERN_ORDER [, int $offset = 0 ]]] ) //执行一个全局正则表达式匹配,返回匹配结果的次数

- preg_replace ( mixed $pattern , mixed $replacement , mixed $subject [, int $limit = -1 [, int &$count ]] ) //执行一个正则表达式的搜索和替换

- preg_replace_callback ( mixed $pattern , callable $callback , mixed $subject [, int $limit = -1 [, int &$count ]] ) //执行一个正则表达式搜索并且使用一个回调进行替换

- preg_split ( string $pattern , string $subject [, int $limit = -1 [, int $flags = 0 ]] ) //通过一个正则表达式分隔字符串

- preg_quote ( string $str [, string $delimiter = NULL ] ) //转义正则表达式字符

- preg_grep ( string $pattern , array $input [, int $flags = 0 ] ) //返回给定数组input中与模式pattern匹配的元素组成的数组.

## 2.perl语法风格正则表达式

### 2.1.定界符
一般使用'/',但不限于此<br>
除字母、数字、反斜杠'\'的其他字符都可以作为定界符<br>

### 2.2.原子
```
.  匹配除换行符之外任意字符
\d 匹配任意一个十进制数字
\D 匹配任意一个非十进制数字
\s 匹配一个不可见原子
\S 匹配一个可见原子
\w 匹配任意一个数字、字母或下划线[a-zA-Z0-9_]
\W 匹配任意非一个数字、字母或下划线[^a-zA-Z0-9_]
[] 作为一个原子，匹配[]之间的一个原子
[^] 作为一个原子，不能匹配[]之间的一个原子
```

### 2.3.元字符
```
//量词
{n} 匹配原子恰好出现n次
{n,} 匹配原子出现不少于n次
{n,m} 匹配原子出现至少n次，最多m次
* 相当于{0,}
+ 相当于{1,}
? 相当于{0,1}

//边界限制
^ 指定匹配的字符串以什么原子开头
$ 指定匹配的字符串以什么原子结尾

//模式选择符
| 多选一

//模式单元
() 多原子作为一个大原子
```

### 2.4.模式修正符
```
i //不区分大小写
s //正则表达式中.匹配所有字符，包括换行符
U //匹配模式变为懒惰模式(只有PHP有，其他语言不兼容，请使用.*?)
x //空白忽略
```

## 3.实例
### 3.1.非空判断
```php
$pattern = '/\S+/';
$ret = preg_match($pattern,' ');//false为空
```

### 3.2.去除空格
```php
$str = '你是谁       2  年后';
$pattern = '/\s+/';
$ret = preg_replace($pattern,'',$str);
```

### 3.3.匹配手机号
```php
$pattern = '/^1(3[0-9]|4[57]|5[0-35-9]|7[0135678]|8[0-9])\\d{8}$/';
//匹配移动
$pattern = '^1(3[4-9]|4[7]|5[0-27-9]|7[08]|8[2-478])\\d{8}$';
//匹配联通
$pattern = '^1(3[0-2]|4[5]|5[56]|7[0156]|8[56])\\d{8}$';
//匹配电信
$pattern = '^1(3[3]|4[9]|53|7[037]|8[019])\\d{8}$';
```

### 3.4.匹配邮箱
```php
$pattern = '/^(\w)+(\.\w+)*@(\w)+(\.\w+)+$/';
```

### 3.5.匹配URL

```php
$pattern = '/^https?\:////(\w+\.)+[a-z]+$/';
```