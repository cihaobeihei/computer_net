# php使用MySQL数据库

## 1.数据库连接
原生数据库连接<br>
```php
mysqli(string mysqlIP, string username, string passwd, string database);
```
```php
<?php
$mysqli = new mysqli('localhost','root','123456','noble');
if($mysqli->connect_errno){
    die('Connect Error:'.$mysql->connect_error);
}
print_r($mysqli);
```

## 2.设置客户端编码方式
```php
$mysqli->set_charset('utf8');
```

## 3.执行查询语句
连接好数据库后,就可以运行sql命令了<br>
查询语句使用``mysql_query()``函数和sql语句<br>
```php
$res = mysql_query('select * from user limit 1');
```

## 4.插入语句,并获得自增长的值
```php
$mysqli->insert_id //得到自增长的值
```
```php
$sql="INSERT user(username, password) VALUES('noble', '123')";
$res=$mysqli->query($sql);
if($res){
    echo '第'.$mysqli->insert_id.'个<br/>';
}else{
    echo 'ERROR '.$mysqli->errno.':'.$mysqli->error;
}
```