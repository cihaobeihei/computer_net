# yii数据模型

## 1.数据模型创建

### 1.1.数据库实例
我们必修有自己的数据库,同时创建好初始表和数据.<br>

![fail](img/4.1.PNG)<br>

### 1.2.连接数据库
编辑``basic/config/db.php``文件<br>
```php
<?php
  
return [
    'class' => 'yii\db\Connection',
    'dsn' => 'mysql:host=127.0.0.1;dbname=world',//用127.0.0.1,不用localhost
    'username' => 'root',
    'password' => '123456',
    'charset' => 'utf8',

    // Schema cache options (for production environment)
    //'enableSchemaCache' => true,
    //'schemaCacheDuration' => 60,
    //'schemaCache' => 'cache',
];
```

### 1.3.创建数据库模型
我们在``basic/models``下创建数据库表对应的php类``City.php``:<br>
我们称这些类是操作数据库的活动模型.<br>
```php
<?php
namespase app\models;

use yii\db\ActiveRecord;

class City extends ActiveRecord(){

}
```

在完成上述操作后,就可以执行sql了.<br>
```php
<?php
namespace app\controllers;
use yii\web\Controller;
use app\models\City;

class HelloController extends Controller
{
    public function actionIndex(){
            $results = City::find()->where(['=','ID',129])->all();
            print_R($results);
    }
}
```
如果要是使用特殊查询需求如like,可以做如下操作:<br>
```php
$results = City::find()->where(['like','name','noble'])->all();//selec * from city where name like %noble%; %自动添加
```