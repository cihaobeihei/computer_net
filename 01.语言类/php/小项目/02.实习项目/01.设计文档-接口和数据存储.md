# 系统概要设计

## 1.概括流程
用户向后台传递参数:<br>
```
set<用户类型(enmu) 上线时间 下线时间 数据源(channelName,interfaceName)>
```
后台接受数据,并写入dataPullTable.<br>

## 2.详细过程
### 2.1.前端页面初始化时,调用pd接口,提供可供选择的数据源供拉取<br>

pd接口提供信息:<br>
```json
{
    status:0, //0表示成功,1表示失败
    data:{
        [1,百度数据源,'channelName,interfaceName'],//1.表示新客
        [1,百度数据源,'channelName,interfaceName'],
        [1,百度数据源,'channelName,interfaceName'],
        [1,百度数据源,'channelName,interfaceName'],
        ........
        [2,百度数据源,'channelName,interfaceName'],//2.表示老客
        [2,百度数据源,'channelName,interfaceName'],
        [2,百度数据源,'channelName,interfaceName'],
        ........
        [3,百度数据源,'channelName,interfaceName'],//3.表示盲放
        [3,百度数据源,'channelName,interfaceName'],
        ........
        [4,百度数据源,'channelName,interfaceName'],//4.表示其他
        [4,百度数据源,'channelName,interfaceName'],
        ........
    }
}
```

### 2.2.前端页面初始化时,扫描数据库dataPullTable表所有数据,显示已经配置的数据源拉取规则
这些规则可增删改.<br>


## 3.接口
### 3.1.search()
```
ServerResponse search();
{
    statues: 0,
    msg: 'search success',
    data: [
        [id,'百度数据源',online,offline],
        [id,'百度数据源',online,offline],
        [id,'百度数据源',online,offline],
        ........
    ]
}
```
### 3.2.add()
```
ServerResponse add(String userType, Date online, Date offline, String dataSourse);
{
    statues: 0,
    msg: 'add success',
    data: null
}
每次add结束,调用search接口,用于刷新数据.
```
### 3.3.update()
```
ServerResponse update(int id,String userType, Date online, Date offline, String dataSourse);
{
    statues: 0,
    msg: 'update success',
    data: null
}
update参数可以为null,表示不更新当前数据字段.
每次add结束,调用search接口,用于刷新数据.
```
### 3.4.delete()
```
ServerResponse delete(int id);
{
    statues: 0,
    msg: 'delete success',
    data: null
}
每次delete结束,调用search接口,用于刷新数据.
```