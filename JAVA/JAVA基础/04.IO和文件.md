# Java中的文件操作和IO操作

## 1.JavaIO解释
在Java中IO有以下分类：<br>
- 1.面向字节
  - 1.字节输入流 读取数据 ``InputStream``
  - 2.字节输出流 写入数据 ``OutputStream``
- 2.面向字符
  - 1.字符输入流 读取数据 ``Reader``
  - 2.字符输出流 写入数据 ``Writer``

实例：<br>
```java
public static void main(String[] args) throws IOException {
  FileInputStream fis = new FileInputStream("a.java");

  FileOutputStream fos = new FileOutputStream("d:\\a\\a.java");

  int len;
  byte[] bys = new byte[1024];
  while((len = fis.read(bys)) != -1) {
    fos.write(bys.0,len);
  }
}
```


## 2.面向字节输入输出

### 1.FileWrite
创建写文件的对象：<br>
```java
FileWrite fw = new FileWrite("d:\\noble.txt");
fw.write("Hello World!");
fw.flush();
fw.close();
```

#### 1.追加和截断打开文件的方法
```java
FileWrite fw = new FileWrite("d:\\noble.txt");//默认使用的是截断打开文件
FileWrite fw = new FileWrite("d:\\noble.txt",true);//使用追加方式打开文件
```

#### 2.write方法
```java
FileWrite fw = new FileWrite("d:\\noble.txt");
fw.write(String str);
fw.write(String str, int index, int len);
fw.write(int ch);                          //97 和 a 写入的都是"a"
fw.write(char[] chs);
fw.write(char[] chs, int index, int len);
```

write写入数据采用的是字节流方法，所以如果我们想实现换行操作只需在写入的数据后面同时加入换行符即可。<br>
```java
FileWrite fw = new FileWrite("d:\\noble.txt",true);
fw.write("/n");//换行
```

不同操作系统识别的换行符不同：<br>
- windows:
  - ``/r/n``
- mac:
  - ``/r``
- linux:
  - ``/n``

### 2.FileReader
```java
FileReader fr = new FileReader("fr.txt");
int ch = fr.read();
```

#### 1.read方法
```java
int read();                             //读取单个字符
int read(char[] chs, int off, int len); //将字符读入数组的某一部分,并返回读取的字符数
```
当读到结尾时，``read()``函数返回-1；

实例1：<br>
```java
FileReader fr = new FileReader("fr.txt");
int ch;
while((ch=fr.read())!=-1) {
  System.out.print((char)ch);
}
```

实例2：<br>
```java
FileReader fr = new FileReader("d:\\noble.txt");
char[] chs = new char[1024];
int len;
while((len=fr.read(chs))!=-1) {//读到文件结尾时返回 -1
  System.out.print(new String(chs,0,len));
}
```

## 3.缓冲区IO相关操作

### 1.BufferedWriter
将文本写入字符输出流，缓冲各个字符，从而提高数组和行的高效写入。
```java
BufferedWriter bw = new BufferedWriter(new FileWrite("bw.txt"));
bw.write("Hello");
bw.flush();
bw.close;
```

#### 1.BufferedWriter.write方法
```java
void write(int c);                         //写入单个字符。
void write(String str, int off, int len);  //写入字符串的某一部分。
void write(char[] cbuf, int off, int len); //写入字符数组的某一部分
```

#### 2.BufferedWriter.newLine方法
newLine方法一次打印一个换行符，该换行符由系统不同而不同。<br>
```java
BufferedWriter bw = new BufferedWriter(new FileWriter("bw.txt"));
bw.newLine();//打印一个换行符
```

### 2.BufferedReader
从字符输入流中读取文本，缓冲各个字符。从而实现字符、数组的高效读取。<br>
```java
BufferedReader br = new BufferedReader(new FileReader("bw.txt"));
```

#### 1.BufferedReader.read方法
```java
int read();                             //读取单个字符。
int read(char[] cbuf, int off, int len);//将字符读入数组的某一部分。
```

#### 2.BufferedReader.readLine方法
```java
String readLine();//读取一个文本行 不会保存换行符
```

## 4.标准输入输出流
```java
public static final InputStream in;//标准输入流
public static final PrintStream out;//标准输出流
```































## 5.File类文件操作相关

### 1.常见构造方法
```java
File(String pathname);
File(String parent, String child);
File(File parent, String child);
```

### 2.FIle类的功能

#### 1.创建
```java
boolean	createNewFile();//Atomically creates a new, empty file named by this abstract pathname if and only if a file with this name does not yet exist.

boolean	mkdir();//Creates the directory named by this abstract pathname.

boolean	mkdirs();//Creates the directory named by this abstract pathname, including any necessary but nonexistent parent directories.
```

#### 2.删除文件
删除文件夹时，其下不能有子文件或子目录。<br>
```java
boolean	delete();//Deletes the file or directory denoted by this abstract pathname.
```

#### 3.获取相关信息
```java
File  	getAbsoluteFile();//Returns the absolute form of this abstract pathname.
String	getAbsolutePath();//Returns the absolute pathname string of this abstract pathname.

String	getName();//Returns the name of the file or directory denoted by this abstract pathname.
String	getParent();//Returns the pathname string of this abstract pathname's parent, or null if this pathname does not name a parent directory.
File  	getParentFile();//Returns the abstract pathname of this abstract pathname's parent, or null if this pathname does not name a parent directory.

String	getPath();//Converts this abstract pathname into a pathname string.

long  	lastModified();//Returns the time that the file denoted by this abstract pathname was last modified.

long  	length();//Returns the length of the file denoted by this abstract pathname.

String[]	list();//Returns an array of strings naming the files and directories in the directory denoted by this abstract pathname.
File[]	  listFiles();//Returns an array of abstract pathnames denoting the files in the directory denoted by this abstract pathname.
static File[]	listRoots();//List the available filesystem roots.
```

#### 4.判断相关
```java
boolean	exists();//Tests whether the file or directory denoted by this abstract pathname exists.

boolean	isAbsolute();//Tests whether this abstract pathname is absolute.

boolean	isDirectory();//Tests whether the file denoted by this abstract pathname is a directory.
boolean	isFile();//Tests whether the file denoted by this abstract pathname is a normal file.
boolean	isHidden();//Tests whether the file named by this abstract pathname is a hidden file.
```


























#
