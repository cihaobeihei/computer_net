# Spring配置文件

## 1.Bean元素
我们回忆一下之前的配置文件：<br>
```xml
<!-- applicationContext.xml --> 
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.springframework.org/schema/beans" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd ">
	<bean name="hello" class="com.noble.test.hello"></bean>
</beans>
```
### 1.1 Bean的基本属性
Bean元素：使用该元素描述需要spring容器管理的对象：<br>
- class属性：被管理对象的完整类名
- name属性：给被管理的对象起个名字，获得对象时根据该名称获得对象，可以重复，可以使用特殊字符
- id属性：与name属性功能一致，名称不可重复，不能使用特殊字符。一般不再使用

### 1.2 Bean的扩展属性
#### Bean标签的扩展属性1：scope属性：
- 1.sigleton(默认值)：单列对象，被表示为单列的对象在Spring容器中只会存在一个实例
- 2.prototype多列原型，被表示为队列的对象，每次再获得才会创建，每次创建都是新的对象
- 3.request：web环境下，对象与request生命周期一致
- 4.session：web环境下，对象与session生命周期一致

#### Bean标签扩展属性2：init和destroy
如果我们在Bean标签中设置了init-method 和 destroy-method属性，那么在程序创建时，便会执行init-method方法。而在类销毁时执行destroy-method的方法。<br>

如下：<br>
```xml
<bean name="user" class="com.noble.User" init-method="init" destroy-method="destroy"></bean>
```
对应于类中的方法应如下：<br>
```java
public class User {
    public void init(){
        ....
    }
    public void destroy(){
        ....
    }
}
```

## 2.三种 对象创建方式

### 2.1 创建方式一 空参构造
就如上述方法，将类加入到Spring容器，然后使用ClassPathXmlApplicationContext创建类对象。<br>
```java
ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml");
		hello u = (hello)ac.getBean("hello");
```

### 2.2.创建方式二：静态创建
如果我们想给类实例化时，加入一些参数，可以考虑使用非空参构造创建。<br>
一般用不到。<br>

## 3.Spring配置文件的模块化配置
随着项目开发越来越大，类也越来越多，为了更好的组织这些类，Spring的配置文件拥有模块化功能。简单来说就是Spring配置文件可以引入其他配置文件。<br>
```xml
<!-- -->
<import resource="com/noble/test/applicationContext.xml" />
```

## 4.类型和值的注入

### 1.set方法注入 最重要
```xml
<!-- set方式注入: -->
<bean  name="user" class="cn.itcast.bean.User" >
	<!--值类型注入: 为User对象中名为name的属性注入tom作为值 -->
	<property name="name" value="tom" ></property>
	<property name="age"  value="18" ></property>
	<!-- 引用类型注入: 为car属性注入下方配置的car对象 -->
	<property name="car"  ref="car" ></property>
</bean>

<!-- 将car对象配置到容器中 -->
<bean name="car" class="cn.itcast.bean.Car" >
	<property name="name" value="兰博基尼" ></property>
	<property name="color" value="黄色" ></property>
</bean>
```

在上面的注入方法中，不仅有普通类型的注入，也有类的注入。要实现set注入，前提必须是类有对应的set方法<br>
